function t(t){return t*(Math.PI/180)}function e(t){return t*(180/Math.PI)}function i(t,e,i){return(1-i)*t+i*e}function r(t,e){return void 0===e&&(e=t,t=0),Math.random()*(e-t)+t}class s{constructor(t,e){this.x=t,this.y=e}add(t){return new s(this.x+t.x,this.y+t.y)}subtract(t){return new s(this.x-t.x,this.y-t.y)}multiply(t){return new s(this.x*t,this.y*t)}divide(t){return new s(this.x/t,this.y/t)}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)}normalize(){const t=this.magnitude();return new s(this.x/t,this.y/t)}dotProduct(t){return this.x*t.x+this.y*t.y}angleBetween(t){const e=this.dotProduct(t),i=this.magnitude()*t.magnitude();if(Math.abs(e-i)<Number.EPSILON)return e>=0?0:Math.PI;if(0===i)return 0;const r=e/i;let s=Math.acos(r);return this.x*t.y-this.y*t.x<0&&(s=2*Math.PI-s),s}toString(){return`(${this.x}, ${this.y})`}static fromPoints(t,e){return new s(e.x-t.x,e.y-t.y)}}function l(t,e,r){t=o(t),e=o(e);return`rgba(${Math.round(i(t.r,e.r,r))}, ${Math.round(i(t.g,e.g,r))}, ${Math.round(i(t.b,e.b,r))}, ${i(t.a||1,e.a||1,r)})`}function o(t){if("string"==typeof t){if(a[t.toLowerCase()])return a[t.toLowerCase()];const e=t.match(/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3}|[0-9a-fA-F]{8})$/);if(e){const t=e[1];return 8===t.length?{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:parseInt(t.substring(6,8),16)/255}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:1}}if(t.startsWith("rgb")){const e=t.match(/rgba?\((\d+), (\d+), (\d+)(?:, (\d?\.\d+))?\)/);if(e){const[,t,i,r,s]=e;return{r:parseInt(t),g:parseInt(i),b:parseInt(r),a:void 0!==s?parseFloat(s):1}}}throw new Error(`Invalid color string: ${t}`)}return t}const a={aliceblue:{r:240,g:248,b:255,a:1},antiquewhite:{r:250,g:235,b:215,a:1},aqua:{r:0,g:255,b:255,a:1},aquamarine:{r:127,g:255,b:212,a:1},azure:{r:240,g:255,b:255,a:1},beige:{r:245,g:245,b:220,a:1},bisque:{r:255,g:228,b:196,a:1},black:{r:0,g:0,b:0,a:1},blanchedalmond:{r:255,g:235,b:205,a:1},blue:{r:0,g:0,b:255,a:1},blueviolet:{r:138,g:43,b:226,a:1},brown:{r:165,g:42,b:42,a:1},burlywood:{r:222,g:184,b:135,a:1},cadetblue:{r:95,g:158,b:160,a:1},chartreuse:{r:127,g:255,b:0,a:1},chocolate:{r:210,g:105,b:30,a:1},coral:{r:255,g:127,b:80,a:1},cornflowerblue:{r:100,g:149,b:237,a:1},cornsilk:{r:255,g:248,b:220,a:1},crimson:{r:220,g:20,b:60,a:1},cyan:{r:0,g:255,b:255,a:1},darkblue:{r:0,g:0,b:139,a:1},darkcyan:{r:0,g:139,b:139,a:1},darkgoldenrod:{r:184,g:134,b:11,a:1},darkgray:{r:169,g:169,b:169,a:1},darkgreen:{r:0,g:100,b:0,a:1},darkkhaki:{r:189,g:183,b:107,a:1},darkmagenta:{r:139,g:0,b:139,a:1},darkolivegreen:{r:85,g:107,b:47,a:1},darkorange:{r:255,g:140,b:0,a:1},darkorchid:{r:153,g:50,b:204,a:1},darkred:{r:139,g:0,b:0,a:1},darksalmon:{r:233,g:150,b:122,a:1},darkseagreen:{r:143,g:188,b:143,a:1},darkslateblue:{r:72,g:61,b:139,a:1},darkslategray:{r:47,g:79,b:79,a:1},darkturquoise:{r:0,g:206,b:209,a:1},darkviolet:{r:148,g:0,b:211,a:1},deeppink:{r:255,g:20,b:147,a:1},deepskyblue:{r:0,g:191,b:255,a:1},dimgray:{r:105,g:105,b:105,a:1},dodgerblue:{r:30,g:144,b:255,a:1},firebrick:{r:178,g:34,b:34,a:1},floralwhite:{r:255,g:250,b:240,a:1},forestgreen:{r:34,g:139,b:34,a:1},fuchsia:{r:255,g:0,b:255,a:1},gainsboro:{r:220,g:220,b:220,a:1},ghostwhite:{r:248,g:248,b:255,a:1},gold:{r:255,g:215,b:0,a:1},goldenrod:{r:218,g:165,b:32,a:1},gray:{r:128,g:128,b:128,a:1},green:{r:0,g:128,b:0,a:1},greenyellow:{r:173,g:255,b:47,a:1},honeydew:{r:240,g:255,b:240,a:1},hotpink:{r:255,g:105,b:180,a:1},indianred:{r:205,g:92,b:92,a:1},indigo:{r:75,g:0,b:130,a:1},ivory:{r:255,g:255,b:240,a:1},khaki:{r:240,g:230,b:140,a:1},lavender:{r:230,g:230,b:250,a:1},lavenderblush:{r:255,g:240,b:245,a:1},lawngreen:{r:124,g:252,b:0,a:1},lemonchiffon:{r:255,g:250,b:205,a:1},lightblue:{r:173,g:216,b:230,a:1},lightcoral:{r:240,g:128,b:128,a:1},lightcyan:{r:224,g:255,b:255,a:1},lightgoldenrodyellow:{r:250,g:250,b:210,a:1},lightgray:{r:211,g:211,b:211,a:1},lightgreen:{r:144,g:238,b:144,a:1},lightpink:{r:255,g:182,b:193,a:1},lightsalmon:{r:255,g:160,b:122,a:1},lightseagreen:{r:32,g:178,b:170,a:1},lightskyblue:{r:135,g:206,b:250,a:1},lightslategray:{r:119,g:136,b:153,a:1},lightsteelblue:{r:176,g:196,b:222,a:1},lightyellow:{r:255,g:255,b:224,a:1},lime:{r:0,g:255,b:0,a:1},limegreen:{r:50,g:205,b:50,a:1},linen:{r:250,g:240,b:230,a:1},magenta:{r:255,g:0,b:255,a:1},maroon:{r:128,g:0,b:0,a:1},mediumaquamarine:{r:102,g:205,b:170,a:1},mediumblue:{r:0,g:0,b:205,a:1},mediumorchid:{r:186,g:85,b:211,a:1},mediumpurple:{r:147,g:112,b:219,a:1},mediumseagreen:{r:60,g:179,b:113,a:1},mediumslateblue:{r:123,g:104,b:238,a:1},mediumspringgreen:{r:0,g:250,b:154,a:1},mediumturquoise:{r:72,g:209,b:204,a:1},mediumvioletred:{r:199,g:21,b:133,a:1},midnightblue:{r:25,g:25,b:112,a:1},mintcream:{r:245,g:255,b:250,a:1},mistyrose:{r:255,g:228,b:225,a:1},moccasin:{r:255,g:228,b:181,a:1},navajowhite:{r:255,g:222,b:173,a:1},navy:{r:0,g:0,b:128,a:1},oldlace:{r:253,g:245,b:230,a:1},olive:{r:128,g:128,b:0,a:1},olivedrab:{r:107,g:142,b:35,a:1},orange:{r:255,g:165,b:0,a:1},orangered:{r:255,g:69,b:0,a:1},orchid:{r:218,g:112,b:214,a:1},palegoldenrod:{r:238,g:232,b:170,a:1},palegreen:{r:152,g:251,b:152,a:1},paleturquoise:{r:175,g:238,b:238,a:1},palevioletred:{r:219,g:112,b:147,a:1},papayawhip:{r:255,g:239,b:213,a:1},peachpuff:{r:255,g:218,b:185,a:1},peru:{r:205,g:133,b:63,a:1},pink:{r:255,g:192,b:203,a:1},plum:{r:221,g:160,b:221,a:1},powderblue:{r:176,g:224,b:230,a:1},purple:{r:128,g:0,b:128,a:1},rebeccapurple:{r:102,g:51,b:153,a:1},red:{r:255,g:0,b:0,a:1},rosybrown:{r:188,g:143,b:143,a:1},royalblue:{r:65,g:105,b:225,a:1},saddlebrown:{r:139,g:69,b:19,a:1},salmon:{r:250,g:128,b:114,a:1},sandybrown:{r:244,g:164,b:96,a:1},seagreen:{r:46,g:139,b:87,a:1},seashell:{r:255,g:245,b:238,a:1},sienna:{r:160,g:82,b:45,a:1},silver:{r:192,g:192,b:192,a:1},skyblue:{r:135,g:206,b:235,a:1},slateblue:{r:106,g:90,b:205,a:1},slategray:{r:112,g:128,b:144,a:1},snow:{r:255,g:250,b:250,a:1},springgreen:{r:0,g:255,b:127,a:1},steelblue:{r:70,g:130,b:180,a:1},tan:{r:210,g:180,b:140,a:1},teal:{r:0,g:128,b:128,a:1},thistle:{r:216,g:191,b:216,a:1},tomato:{r:255,g:99,b:71,a:1},turquoise:{r:64,g:224,b:208,a:1},violet:{r:238,g:130,b:238,a:1},wheat:{r:245,g:222,b:179,a:1},white:{r:255,g:255,b:255,a:1},whitesmoke:{r:245,g:245,b:245,a:1},yellow:{r:255,g:255,b:0,a:1},yellowgreen:{r:154,g:205,b:50,a:1}};class h{constructor(t,e,i,r){2==arguments.length&&"object"==typeof t&&"object"==typeof e?(this.pt1=t,this.pt2=e):(this.pt1=new s(t,e),this.pt2=new s(i,r)),this.fontSize=10,this.strokeColor="black",this.isDashedLine=!1,this.drawTextLabels=!0,this.drawTextMagnitude=!0,this.drawTextAngle=!0,this.strokeWeight=2}get x1(){return this.pt1.x}set x1(t){this.pt1.x=t}get y1(){return this.pt1.y}set y1(t){this.pt1.y=t}get x2(){return this.pt2.x}set x2(t){this.pt2.x=t}get y2(){return this.pt2.y}set y2(t){this.pt2.y=t}getHeading(){const t=this.pt2.subtract(this.pt1);let e=Math.atan2(t.y,t.x);return e<0&&(e+=2*Math.PI),e}getNormals(){return function(t,e){const i=e.subtract(t);return[new s(i.y,-i.x),new s(-i.y,i.x)]}(this.pt1,this.pt2)}getNormal(){return this.getNormals()[0]}getVectorAtOrigin(){return this.pt2.subtract(this.pt1)}getAnglesBetween(t){const i=this.getVectorAtOrigin();let r;r=t instanceof h?t.getVectorAtOrigin():t;let s=i.angleBetween(r);console.log(`angleBetweenDegrees: ${e(s).toFixed(1)}`),s<0&&(s+=2*Math.PI);const l=s;return{counterclockwiseAngle:2*Math.PI-s,clockwiseAngle:l}}getOrthogonalProjection(t){const e=this.pt2.subtract(this.pt1),i=t.subtract(this.pt1),r=e.magnitude(),s=Math.min(Math.max(i.dotProduct(e.normalize()),0),r);return this.pt1.add(e.multiply(s))}getDistance(t){const e=this.getOrthogonalProjection(t);return t.subtract(e).magnitude()}getMagnitude(){return this.pt2.subtract(this.pt1).magnitude()}setMagnitude(t){const e=this.pt2.subtract(this.pt1).normalize().multiply(t);this.pt2=this.pt1.add(e)}draw(t){if(t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWeight,this.isDashedLine&&t.setLineDash([5,15]),this.drawArrow(t,this.pt1,this.pt2.subtract(this.pt1),this.strokeColor),this.drawTextLabels){t.font=`${this.fontSize}px Arial`,t.textAlign="left",t.textBaseline="top",t.fillStyle=this.strokeColor;const e=this.generateLabel(),i=t.measureText(e).width;t.fillText(e,-i-3,12)}}drawArrow(t,e,i,r){const s=10,l=Math.atan2(i.y,i.x);t.save(),t.strokeStyle=r,t.fillStyle=r,t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(e.x+i.x,e.y+i.y),t.stroke(),t.beginPath(),t.moveTo(e.x+i.x,e.y+i.y),t.lineTo(e.x+i.x-s*Math.cos(l-Math.PI/6),e.y+i.y-s*Math.sin(l-Math.PI/6)),t.lineTo(e.x+i.x-s*Math.cos(l+Math.PI/6),e.y+i.y-s*Math.sin(l+Math.PI/6)),t.lineTo(e.x+i.x,e.y+i.y),t.lineTo(e.x+i.x-s*Math.cos(l-Math.PI/6),e.y+i.y-s*Math.sin(l-Math.PI/6)),t.stroke(),t.fill(),t.restore()}generateLabel(){let t="";if(this.drawTextAngle){t+=`${Math.round(180*Math.atan2(this.pt2.y-this.pt1.y,this.pt2.x-this.pt1.x)/Math.PI)}°`}return this.drawTextAngle&&this.drawTextMagnitude&&(t+=" "),this.drawTextMagnitude&&(t+=`|${this.getMagnitude().toFixed(1)}|`),t}static drawAngleArcs(t,i,r,l="blue",o="red",a=50,h=30){const n=i.getHeading(),g=i.getAnglesBetween(r);console.log(`CW angle ${e(g.clockwiseAngle).toFixed(1)} CCW angle ${e(g.counterclockwiseAngle).toFixed(1)}`),t.save(),t.beginPath(),t.arc(i.pt1.x,i.pt1.y,a,n,n+g.clockwiseAngle,!1),t.strokeStyle=l,t.stroke();const c=new s(i.pt1.x+1.35*a*Math.cos(n+g.clockwiseAngle/2),i.pt1.y+1.35*a*Math.sin(n+g.clockwiseAngle/2));t.font="12px Arial",t.textAlign="center",t.textBaseline="middle",t.fillStyle=l;const b=`${e(g.clockwiseAngle).toFixed(1)}°`;t.fillText(b,c.x,c.y),t.beginPath(),t.arc(i.pt1.x,i.pt1.y,h,n,n-g.counterclockwiseAngle,!0),t.strokeStyle=o,t.stroke();const u=new s(i.pt1.x+1.5*h*Math.cos(n-g.counterclockwiseAngle/2),i.pt1.y+1.5*h*Math.sin(n-g.counterclockwiseAngle/2)),y=`${e(g.counterclockwiseAngle).toFixed(1)}°`;t.fillStyle=o,t.fillText(y,u.x,u.y),t.restore()}}class n{constructor(t,e,i){this.makeLabLogoArray=n.createMakeabilityLabLogoCellArray(t,e,i),this.visible=!0,this.isMOutlineVisible=!0,this.isLOutlineVisible=!0,this.mOutlineColor="black",this.mOutlineStrokeWidth=4,this.lOutlineColor="black",this.lOutlineStrokeWidth=4,this.setColors("white","black"),this.setFillColorsToDefault();for(const t of this.getMShadowTriangles())t.fillColor=t.strokeColor;this.areLTriangleStrokesVisible=!1}static get numRows(){return 4}static get numCols(){return 6}static getWidth(t){return n.numCols*t}static getHeight(t){return n.numRows*t}static getXCenterPosition(t,e){const i=(e-n.getWidth(t))/2;return Math.round(i/t)*t}static getYCenterPosition(t,e){const i=(e-n.getHeight(t))/2;return Math.round(i/t)*t}get x(){return this.makeLabLogoArray[0][0].x}get y(){return this.makeLabLogoArray[0][0].y}get cellSize(){return this.makeLabLogoArray[0][0].size}get width(){return n.numCols*this.makeLabLogoArray[0][0].size}get height(){return n.numRows*this.makeLabLogoArray[0][0].size}get areDefaultColorsOn(){return this._defaultColorsOn}set areLTriangleStrokesVisible(t){for(const e of this.getLTriangles())e.isStrokeVisible=t}get areLTriangleStrokesVisible(){let t=!0;for(const e of this.getLTriangles())t&=e.isStrokeVisible;return t}setLTriangleStrokeColor(t){for(const e of this.getLTriangles())e.strokeColor=t}setMShadowTriangleFillColor(t){for(const e of this.getMShadowTriangles())e.fillColor=t}setStrokeTransparent(t,e=!0){for(const i of this.getAllTriangles(e))i.isStrokeVisible=!t}setFillTransparent(t,e=!0){for(const i of this.getAllTriangles(e))i.isFillVisible=!t}setFillColor(t,e=!0){for(const i of this.getAllTriangles(e))i.fillColor=t}setColors(t,e,i=!0){for(const r of this.getAllTriangles(i))r.fillColor=t,r.strokeColor=e}getAllTriangles(t=!0){let e=new Array;for(let i=0;i<this.makeLabLogoArray.length;i++)for(let r=0;r<this.makeLabLogoArray[i].length;r++)!t&&n.isMShadowTriangle(i,r,1)||e.push(this.makeLabLogoArray[i][r].tri1),!t&&n.isMShadowTriangle(i,r,2)||e.push(this.makeLabLogoArray[i][r].tri2);return e}getMShadowTriangles(){let t=new Array;return t.push(this.makeLabLogoArray[2][1].tri2),t.push(this.makeLabLogoArray[3][1].tri1),t.push(this.makeLabLogoArray[2][4].tri2),t.push(this.makeLabLogoArray[3][4].tri1),t}getLTriangles(){let t=new Array;return t.push(this.makeLabLogoArray[0][0].tri2),t.push(this.makeLabLogoArray[0][1].tri2),t.push(this.makeLabLogoArray[1][0].tri1),t.push(this.makeLabLogoArray[1][1].tri1),t.push(this.makeLabLogoArray[1][1].tri2),t.push(this.makeLabLogoArray[1][2].tri2),t.push(this.makeLabLogoArray[2][1].tri1),t.push(this.makeLabLogoArray[2][2].tri1),t.push(this.makeLabLogoArray[2][2].tri2),t.push(this.makeLabLogoArray[3][2].tri1),t.push(this.makeLabLogoArray[3][3].tri1),t.push(this.makeLabLogoArray[2][3].tri1),t.push(this.makeLabLogoArray[2][3].tri2),t.push(this.makeLabLogoArray[1][3].tri2),t.push(this.makeLabLogoArray[2][4].tri1),t.push(this.makeLabLogoArray[1][4].tri2),t}getDefaultColoredTriangles(){let t=new Array;return t.push(this.makeLabLogoArray[0][4].tri2),t.push(this.makeLabLogoArray[0][5].tri2),t.push(this.makeLabLogoArray[1][0].tri2),t.push(this.makeLabLogoArray[1][4].tri1),t.push(this.makeLabLogoArray[1][5].tri1),t.push(this.makeLabLogoArray[1][5].tri2),t.push(this.makeLabLogoArray[2][0].tri1),t.push(this.makeLabLogoArray[2][0].tri2),t.push(this.makeLabLogoArray[2][5].tri1),t.push(this.makeLabLogoArray[2][5].tri2),t.push(this.makeLabLogoArray[3][0].tri1),t.push(this.makeLabLogoArray[3][5].tri1),t}setFillColorsToDefault(){this.setDefaultColoredTrianglesFillColor(d)}setDefaultColoredTrianglesFillColor(t){const e=this.getDefaultColoredTriangles();if(Array.isArray(t))for(let i=0;i<e.length;i++)e[i].fillColor=t[i];else for(let i=0;i<e.length;i++)e[i].fillColor=t}draw(t){if(this.visible){for(let e=0;e<this.makeLabLogoArray.length;e++)for(let i=0;i<this.makeLabLogoArray[e].length;i++)this.makeLabLogoArray[e][i].draw(t);if(this.isMOutlineVisible){t.save(),t.strokeStyle=this.mOutlineColor,t.lineWidth=this.mOutlineStrokeWidth,t.beginPath();let e=this.getMOutlinePoints();for(const[i,r]of e)t.lineTo(i,r);t.closePath(),t.stroke(),t.restore()}if(this.isLOutlineVisible){t.save(),t.strokeStyle=this.lOutlineColor,t.lineWidth=this.lOutlineStrokeWidth,t.beginPath();let e=this.getLOutlinePoints();for(const[i,r]of e)t.lineTo(i,r);t.closePath(),t.stroke(),t.restore()}}}getLOutlineLineSegments(){let t=new Array;return t.push(new h(this.x+this.cellSize,this.y,this.x+3*this.cellSize,this.y+2*this.cellSize)),t.push(new h(this.x+3*this.cellSize,this.y+2*this.cellSize,this.x+4*this.cellSize,this.y+this.cellSize)),t.push(new h(this.x+4*this.cellSize,this.y+this.cellSize,this.x+5*this.cellSize,this.y+2*this.cellSize)),t.push(new h(this.x+5*this.cellSize,this.y+2*this.cellSize,this.x+3*this.cellSize,this.y+4*this.cellSize)),t.push(new h(this.x+3*this.cellSize,this.y+4*this.cellSize,this.x,this.y+1*this.cellSize)),t.push(new h(this.x,this.y+this.cellSize,this.x+this.cellSize,this.y)),t}getLOutlinePoints(){let t=new Array;return t.push([this.x,this.y+this.cellSize]),t.push([this.x+this.cellSize,this.y]),t.push([this.x+2*this.cellSize,this.y+this.cellSize]),t.push([this.x+3*this.cellSize,this.y+2*this.cellSize]),t.push([this.x+4*this.cellSize,this.y+this.cellSize]),t.push([this.x+5*this.cellSize,this.y+2*this.cellSize]),t.push([this.x+4*this.cellSize,this.y+3*this.cellSize]),t.push([this.x+3*this.cellSize,this.y+4*this.cellSize]),t.push([this.x+2*this.cellSize,this.y+3*this.cellSize]),t.push([this.x+1*this.cellSize,this.y+2*this.cellSize]),t.push([this.x+0*this.cellSize,this.y+1*this.cellSize]),t}getMOutlineLineSegments(){let t=new Array;return t.push(new h(this.x+this.cellSize,this.y,this.x+3*this.cellSize,this.y+2*this.cellSize)),t.push(new h(this.x+3*this.cellSize,this.y+2*this.cellSize,this.x+5*this.cellSize,this.y)),t.push(new h(this.x+5*this.cellSize,this.y,this.x+6*this.cellSize,this.y+this.cellSize)),t.push(new h(this.x+6*this.cellSize,this.y+this.cellSize,this.x+6*this.cellSize,this.y+3*this.cellSize)),t.push(new h(this.x+6*this.cellSize,this.y+3*this.cellSize,this.x+5*this.cellSize,this.y+4*this.cellSize)),t.push(new h(this.x+5*this.cellSize,this.y+4*this.cellSize,this.x+4*this.cellSize,this.y+3*this.cellSize)),t.push(new h(this.x+4*this.cellSize,this.y+3*this.cellSize,this.x+3*this.cellSize,this.y+4*this.cellSize)),t.push(new h(this.x+3*this.cellSize,this.y+4*this.cellSize,this.x+2*this.cellSize,this.y+3*this.cellSize)),t.push(new h(this.x+2*this.cellSize,this.y+3*this.cellSize,this.x+this.cellSize,this.y+4*this.cellSize)),t.push(new h(this.x+this.cellSize,this.y+4*this.cellSize,this.x,this.y+3*this.cellSize)),t.push(new h(this.x,this.y+3*this.cellSize,this.x,this.y+this.cellSize)),t.push(new h(this.x,this.y+this.cellSize,this.x+this.cellSize,this.y)),t}getMOutlinePoints(){let t=new Array;return t.push([this.x,this.y+this.cellSize]),t.push([this.x+this.cellSize,this.y]),t.push([this.x+2*this.cellSize,this.y+this.cellSize]),t.push([this.x+3*this.cellSize,this.y+2*this.cellSize]),t.push([this.x+4*this.cellSize,this.y+this.cellSize]),t.push([this.x+5*this.cellSize,this.y]),t.push([this.x+6*this.cellSize,this.y+this.cellSize]),t.push([this.x+6*this.cellSize,this.y+2*this.cellSize]),t.push([this.x+6*this.cellSize,this.y+3*this.cellSize]),t.push([this.x+5*this.cellSize,this.y+4*this.cellSize]),t.push([this.x+4*this.cellSize,this.y+3*this.cellSize]),t.push([this.x+3*this.cellSize,this.y+4*this.cellSize]),t.push([this.x+2*this.cellSize,this.y+3*this.cellSize]),t.push([this.x+1*this.cellSize,this.y+4*this.cellSize]),t.push([this.x+0*this.cellSize,this.y+3*this.cellSize]),t.push([this.x+0*this.cellSize,this.y+2*this.cellSize]),t.push([this.x+0*this.cellSize,this.y+1*this.cellSize]),t}static setRandomColors(t,e=!0,i=!0){for(const r of t){const t=p.getRandomOriginalColor();r.fillColor=t,r.startFillColor=t,r.endFillColor=t,r.strokeColor=t,r.isFillVisible=e,r.isStrokeVisible=i}}static setColors(t,e,i,r=!0,s=!0){for(const l of t)l.fillColor=e,l.startFillColor=e,l.endFillColor=e,l.strokeColor=i,l.isFillVisible=r,l.isStrokeVisible=s}static createMakeabilityLabLogoCellArray(t,e,i){let r=new Array(n.numRows);for(let t=0;t<r.length;t++)r[t]=new Array(n.numCols);return r[0]=n.createMakeabilityLabTopRow(t,e,i),e+=i,r[1]=n.createMakeabilityLab2ndRow(t,e,i),e+=i,r[2]=n.createMakeabilityLab3rdRow(t,e,i),e+=i,r[3]=n.createMakeabilityLabBottomRow(t,e,i),r}static createMakeabilityLabTopRow(t,e,i){let r=new Array(n.numCols),s=0;return r[s++]=c.createCellWithBottomTriangleOnly(t,e,i,g.BottomRight),t+=i,r[s++]=c.createCellWithBottomTriangleOnly(t,e,i,g.BottomLeft),t+=i,r[s++]=c.createEmptyCell(t,e,i,g.TopLeft),t+=i,r[s++]=c.createEmptyCell(t,e,i,g.TopRight),t+=i,r[s++]=c.createCellWithBottomTriangleOnly(t,e,i,g.BottomRight),t+=i,r[s++]=c.createCellWithBottomTriangleOnly(t,e,i,g.BottomLeft),r}static createMakeabilityLab2ndRow(t,e,i){let r=new Array(n.numCols),s=0;return r[s++]=c.createCell(t,e,i,g.TopRight,g.BottomLeft),t+=i,r[s++]=c.createCell(t,e,i,g.TopLeft,g.BottomRight),t+=i,r[s++]=c.createCellWithBottomTriangleOnly(t,e,i,g.BottomLeft),t+=i,r[s++]=c.createCellWithBottomTriangleOnly(t,e,i,g.BottomRight),t+=i,r[s++]=c.createCell(t,e,i,g.TopRight,g.BottomLeft),t+=i,r[s++]=c.createCell(t,e,i,g.TopLeft,g.BottomRight),r}static createMakeabilityLab3rdRow(t,e,i){let r=new Array(n.numCols);for(let s=0;s<r.length;s++){let l=g.TopLeft;s%2!=0&&(l=g.TopRight),r[s]=c.createCell(t,e,i,l),t+=i}return r}static createMakeabilityLabBottomRow(t,e,i){let r=new Array(n.numCols);for(let s=0;s<r.length;s++){let l=g.TopRight;s%2!=0&&(l=g.TopLeft),r[s]=c.createCellWithTopTriangleOnly(t,e,i,l),t+=i}return r}static isMShadowTriangle(t,e,i){return 2==t&&1==e&&2==i||3==t&&1==e&&1==i||2==t&&4==e&&2==i||3==t&&4==e&&1==i}}const g={TopLeft:"TopLeft",TopRight:"TopRight",BottomLeft:"BottomLeft",BottomRight:"BottomRight"};class c{constructor(t,e){this.tri1=t,this.tri2=e}get x(){return this.tri1.x}get y(){return this.tri1.y}get size(){return this.tri1.size}setColors(t,e){this.setFillColor(t),e?this.setStrokeColor(e):this.setStrokeColor(t)}setFillColor(t){this.tri1.fillColor=t,this.tri2.fillColor=t}setStrokeColor(t){this.tri1.strokeColor=t,this.tri2.strokeColor=t}setVisibility(t){this.tri1.visible=t,this.tri2.visible=t}draw(t){this.tri1.visible&&this.tri1.draw(t),this.tri2.visible&&this.tri2.draw(t)}static createEmptyCell(t,e,i,r=g.TopLeft){let s=new b(t,e,i,r),l=new b(t,e,i,b.getOppositeDirection(r));return s.visible=!1,l.visible=!1,new c(s,l)}static createCellWithTopTriangleOnly(t,e,i,r){let s=new b(t,e,i,r),l=new b(t,e,i,b.getOppositeDirection(r));return l.visible=!1,new c(s,l)}static createCellWithBottomTriangleOnly(t,e,i,r){let s=new b(t,e,i,b.getOppositeDirection(r)),l=new b(t,e,i,r);return s.visible=!1,new c(s,l)}static createCell(t,e,i,r,s){let l=new b(t,e,i,r);s||(s=b.getOppositeDirection(r));let o=new b(t,e,i,s);return new c(l,o)}}class b{constructor(t,e,i,r,s="white",l="black",o=1,a=!0){this.x=t,this.y=e,this.size=i,this.direction=r,this.angle=0,this.strokeColor=l,this.fillColor=s,this.strokeWeight=o,this.visible=a,this.isFillVisible=!0,this.isStrokeVisible=!0,this.drawCellOutline=!1}setColors(t,e){this.fillColor=t,this.strokeColor=e||t}draw(t){if(this.visible){switch(t.save(),this.isFillVisible&&(t.fillStyle=this.fillColor),this.isStrokeVisible&&(t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWeight),t.translate(this.x,this.y),t.rotate(this.angle*Math.PI/180),t.beginPath(),this.direction){case g.BottomLeft:t.moveTo(0,0),t.lineTo(0,this.size),t.lineTo(this.size,this.size);break;case g.BottomRight:t.moveTo(0,this.size),t.lineTo(this.size,this.size),t.lineTo(this.size,0);break;case g.TopRight:t.moveTo(0,0),t.lineTo(this.size,0),t.lineTo(this.size,this.size);break;case g.TopLeft:default:t.moveTo(0,this.size),t.lineTo(0,0),t.lineTo(this.size,0)}t.closePath(),this.isFillVisible&&t.fill(),this.isStrokeVisible&&t.stroke(),this.drawCellOutline&&(t.strokeStyle="rgba(128, 128, 128, 0.5)",t.strokeRect(0,0,this.size,this.size)),t.restore()}}static getOppositeDirection(t){switch(t){case g.BottomLeft:return g.TopRight;case g.BottomRight:return g.TopLeft;case g.TopRight:return g.BottomLeft;case g.TopLeft:default:return g.BottomRight}}static createTriangle(t){return new b(t.x,t.y,t.size,t.direction,t.fillColor,t.strokeColor,t.strokeWeight,t.visible)}}class u{constructor(t,e,i,r="rgba(200, 200, 200, 0.5)",s=null){this.gridArray=u.createGrid(t,e,i,r,s),this.visible=!0,this.setFillColor(s)}draw(t){if(this.visible)for(let e=0;e<this.gridArray.length;e++)for(let i=0;i<this.gridArray[e].length;i++)this.gridArray[e][i].draw(t)}setStrokeColor(t){for(let e=0;e<this.gridArray.length;e++)for(let i=0;i<this.gridArray[e].length;i++)this.gridArray[e][i].tri1.strokeColor=t,this.gridArray[e][i].tri2.strokeColor=t}setFillColor(t){for(let e=0;e<this.gridArray.length;e++)for(let i=0;i<this.gridArray[e].length;i++)this.gridArray[e][i].tri1.fillColor=t,this.gridArray[e][i].tri2.fillColor=t}static createGrid(t,e,i,r,s){const l=Math.floor(t/i),o=Math.floor(e/i);let a=new Array(o);for(let t=0;t<a.length;t++){a[t]=new Array(l);for(let e=0;e<a[t].length;e++){let l=g.TopLeft;(t%2==0&&e%2==0||t%2!=0&&e%2!=0)&&(l=g.TopRight);let o=c.createCell(e*i,t*i,i,l);o.tri1.strokeColor=r,o.tri2.strokeColor=r,s&&(o.tri1.fillColor=s,o.tri2.fillColor=s),a[t][e]=o}}return a}}const y={Blue:"rgb(135, 202, 228)",BlueGray:"rgb(147, 169, 207)",Purple:"rgb(171, 147, 197)",Green:"rgb(148, 206, 146)",Orange:"rgb(235, 185, 130)",RedPurple:"rgb(207, 145, 166)",Pink:"rgb(237, 162, 163)",YellowGreen:"rgb(239, 226, 127)",LightGreen:"rgb(209, 226, 133)",BlueGreen:"rgb(147, 211, 202)"},d=[y.Blue,y.BlueGray,y.YellowGreen,y.Purple,y.Green,y.Orange,y.YellowGreen,y.LightGreen,y.Orange,y.RedPurple,y.BlueGreen,y.Pink];class p{static getRandomOriginalColor(){return p.getRandomColorFromPalette(y)}static getRandomColorFromPalette(t){t||(t=y);const e=Object.keys(t);return t[e[Math.floor(Math.random()*e.length)]]}}class m{constructor(t,e,i,r="white",s="black"){this.makeLabLogo=new n(t,e,i),this.makeLabLogo.visible=!1,this.makeLabLogoAnimated=new n(t,e,i),this.makeLabLogoAnimated.isLOutlineVisible=!1,this.makeLabLogoAnimated.isMOutlineVisible=!1,this.makeLabLogo.setLTriangleStrokeColor("rgb(240, 240, 240)"),this.makeLabLogoAnimated.setFillColor(r),this.makeLabLogoAnimated.setColors(r,s),this.makeLabLogoAnimated.areLTriangleStrokesVisible=!0;const l=this.makeLabLogoAnimated.getLTriangles();for(let t=0;t<l.length;t++)console.log(`L Triangle ${t} color: ${l[t].strokeColor} and visibility: ${l[t].isStrokeVisible}`);this.originalRandomTriLocs=[],this.explodeSize=!0,this.explodeX=!0,this.explodeY=!0,this.explodeAngle=!0,this.explodeStrokeColor=!0,this.explodeFillColor=!0}reset(t,e){this.originalRandomTriLocs=[];const i=this.makeLabLogo.cellSize,s=this.makeLabLogo.getAllTriangles(!0),l=this.makeLabLogoAnimated.getAllTriangles(!0);for(let o=0;o<l.length;o++){const a=l[o];let h=this.explodeSize?r(i/2,3*i):i;a.x=this.explodeX?r(h,t-h):s[o].x,a.y=this.explodeY?r(h,e-h):s[o].y,a.angle=this.explodeAngle?r(0,360):0,a.strokeColor=this.explodeStrokeColor?l[o].strokeColor:s[o].strokeColor,a.fillColor=this.explodeFillColor?l[o].fillColor:s[o].fillColor,console.log(`tri.strokeColor: ${a.strokeColor}`),a.size=h,this.originalRandomTriLocs.push({x:a.x,y:a.y,angle:a.angle,size:h,strokeColor:a.strokeColor,fillColor:a.fillColor})}}update(t){this.makeLabLogoAnimated.isLOutlineVisible=t>=1;const e=this.makeLabLogo.getAllTriangles(!0);let r=this.makeLabLogoAnimated.getAllTriangles(!0);for(let s=0;s<this.originalRandomTriLocs.length;s++){const o=e[s].x,a=e[s].y,h=0,n=e[s].size,g=e[s].strokeColor,c=e[s].fillColor,b=this.originalRandomTriLocs[s].x,u=this.originalRandomTriLocs[s].y,y=this.originalRandomTriLocs[s].angle,d=this.originalRandomTriLocs[s].size,p=this.originalRandomTriLocs[s].strokeColor,m=this.originalRandomTriLocs[s].fillColor,k=i(b,o,t),L=i(u,a,t),S=i(y,h,t),x=i(d,n,t),w=l(p,g,t),f=l(m,c,t);console.log(`startStrokeColor: ${p}, endStrokeColor: ${g}, newStrokeColor: ${w}, lerpAmt: ${t}`),r[s].x=k,r[s].y=L,r[s].angle=S,r[s].size=x,r[s].strokeColor=w,r[s].fillColor=f}}draw(t){this.makeLabLogo.draw(t),this.makeLabLogoAnimated.draw(t)}}export{c as Cell,u as Grid,h as LineSegment,n as MakeabilityLabLogo,p as MakeabilityLabLogoColorer,m as MakeabilityLabLogoExploder,d as ORIGINAL_COLOR_ARRAY,y as OriginalColorPaletteRGB,b as Triangle,g as TriangleDir,s as Vector,o as convertColorStringToObject,e as convertToDegrees,t as convertToRadians,i as lerp,l as lerpColor,r as random};
