{"version":3,"file":"makelab.math.js","sources":["../src/lib/math/math-utils.js","../src/lib/math/vector.js"],"sourcesContent":["/**\n * Converts degrees to radians.\n *\n * @param {number} degrees - The angle in degrees to be converted to radians.\n * @returns {number} The angle in radians.\n */\nexport function convertToRadians(degrees) {\n  return degrees * (Math.PI / 180);\n}\n\n/**\n * Converts an angle from radians to degrees.\n *\n * @param {number} radians - The angle in radians to be converted.\n * @returns {number} The angle in degrees.\n */\nexport function convertToDegrees(radians) {\n  return radians * (180 / Math.PI);\n}\n\n/**\n * Linearly interpolates between two values.\n *\n * @param {number} start - The starting value.\n * @param {number} end - The ending value.\n * @param {number} amt - The interpolation amount (0-1).\n * @returns {number} The interpolated value.\n */\nexport function lerp(start, end, amt) {\n  return (1 - amt) * start + amt * end;\n}\n\n/**\n * Generates a random number within a specified range (similar to p5js random)\n * If only one argument is provided, it generates a number between 0 and the argument.\n * If two arguments are provided, it generates a number between the two arguments.\n * \n * @param {number} min - The minimum value (inclusive) or the maximum value if only one argument is provided.\n * @param {number} [max] - The maximum value (exclusive).\n * @returns {number} A random number within the specified range.\n */\nexport function random(min, max) {\n  if (max === undefined) {\n    max = min;\n    min = 0;\n  }\n  return Math.random() * (max - min) + min;\n}","/**\n * Class representing a 2D vector.\n */\nexport class Vector {\n  /**\n   * Create a vector.\n   * @param {number} x - The x coordinate.\n   * @param {number} y - The y coordinate.\n   */\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  /**\n   * Add another vector to this vector.\n   * @param {Vector} other - The vector to add.\n   * @returns {Vector} The resulting vector.\n   */\n  add(other) {\n    return new Vector(this.x + other.x, this.y + other.y);\n  }\n\n  /**\n   * Subtract another vector from this vector.\n   * @param {Vector} other - The vector to subtract.\n   * @returns {Vector} The resulting vector.\n   */\n  subtract(other) {\n    return new Vector(this.x - other.x, this.y - other.y);\n  }\n\n  /**\n   * Multiply this vector by a scalar.\n   * @param {number} scalar - The scalar to multiply by.\n   * @returns {Vector} The resulting vector.\n   */\n  multiply(scalar) {\n    return new Vector(this.x * scalar, this.y * scalar);\n  }\n\n  /**\n   * Divide this vector by a scalar.\n   * @param {number} scalar - The scalar to divide by.\n   * @returns {Vector} The resulting vector.\n   */\n  divide(scalar) {\n    return new Vector(this.x / scalar, this.y / scalar);\n  }\n\n  /**\n   * Calculate the magnitude (length) of this vector.\n   * @returns {number} The magnitude of the vector.\n   */\n  magnitude() {\n    return Math.sqrt(this.x * this.x + this.y * this.y);\n  }\n\n  /**\n   * Normalize this vector (make it have a magnitude of 1).\n   * @returns {Vector} The normalized vector.\n   */\n  normalize() {\n    const mag = this.magnitude();\n    return new Vector(this.x / mag, this.y / mag);\n  }\n\n  /**\n   * Calculate the dot product of this vector and another vector.\n   * @param {Vector} other - The other vector.\n   * @returns {number} The dot product.\n   */\n  dotProduct(other) {\n    return this.x * other.x + this.y * other.y;\n  }\n\n  /**\n   * Calculate the angle between this vector and another vector.\n   * @param {Vector} other - The other vector.\n   * @returns {number} The angle in radians.\n   */\n  angleBetween(other) {\n    // const cosTheta = this.dotProduct(other) / (this.magnitude() * other.magnitude());\n    // return Math.acos(cosTheta);\n\n    const dotProduct = this.dotProduct(other);\n    const magnitudeProduct = this.magnitude() * other.magnitude();\n\n    // Handle parallel vectors (dotProduct â‰ˆ magnitudeProduct)\n    if (Math.abs(dotProduct - magnitudeProduct) < Number.EPSILON) {\n      return dotProduct >= 0 ? 0 : Math.PI;\n    }\n\n    // Handle zero vectors\n    if (magnitudeProduct === 0) {\n      return 0; // Or return NaN if you prefer\n    }\n\n    const cosTheta = dotProduct / magnitudeProduct;\n    let angle = Math.acos(cosTheta);\n\n    // Use the cross product to determine the sign of the angle\n    const crossProductZ = this.x * other.y - this.y * other.x; // 2D cross product\n    if (crossProductZ < 0) {\n      angle = 2 * Math.PI - angle;\n    }\n\n    return angle;\n  }\n\n  /**\n   * Get a string representation of this vector.\n   * @returns {string} A string representation of the vector.\n   */\n  toString() {\n    return `(${this.x}, ${this.y})`;\n  }\n\n  /**\n   * Create a vector from two points.\n   * @param {Object} p1 - The first point with x and y properties.\n   * @param {Object} p2 - The second point with x and y properties.\n   * @returns {Vector} The resulting vector.\n   */\n  static fromPoints(p1, p2) {\n    return new Vector(p2.x - p1.x, p2.y - p1.y);\n  }\n}"],"names":[],"mappings":"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"}